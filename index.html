<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Calculator - Opas Investments</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        
        <style>
            .btn-primary{background-color:#061a37;border-color:#061a37 !important}.bg-primary{background-color:#061a37 !important}.border-primary{border-color:#061a37 !important}.row{--bs-gutter-x:0}
        </style>
    </head>
    <body>
        <main>
            <div class="container">
                <div class="row p-4 m-2 align-items-center rounded-3 border shadow-lg">
                    <h1>Investment Calculator</h1>
                    <div class="col-lg-4">
                        <div class="col-sm-12">
                            <label for="years" class="form-label text-sm-start">Number of years</label>
                            <input type="number" class="form-control" id="years" placeholder="E.g. 10">
                        </div>
                        <br>
                        <div class="col-sm-12">
                            <label for="initialDeposit" class="form-label text-sm-start">Inital deposit</label>
                            <input type="number" class="form-control" id="initialDeposit" placeholder="E.g. £400">
                        </div>
                        <br>
                        <div class="col-sm-12">
                            <label for="furtherDeposit" class="form-label text-sm-start">Desosit per portfolio</label>
                            <input type="number" class="form-control" id="furtherDeposit" placeholder="E.g. £100">
                        </div>
                        <br>
                        <div class="col-sm-12">
                            <label for="numPortfolios" class="form-label text-sm-start">Portfolios per year</label>
                            <input type="number" class="form-control" id="numPortfolios" placeholder="E.g. 12">
                        </div>
                        <br>
                        <div class="col-sm-12">
                            <label for="dividendYield" class="form-label text-sm-start">Dividend yield %</label>
                            <input type="number" class="form-control" id="dividendYield" placeholder="E.g. 5%">
                        </div>
                        <br>
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="reinvest">
                                <label class="form-check-label" for="reinvest">Reinvest dividends</label>
                                </div>
                        </div>
                        <br>
                        <div class="col-sm-6">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="inflation">
                                <label class="form-check-label" for="inflation">Toggle Inflation</label>
                                </div>
                        </div>
                        <br>
                        <button class="w-100 btn btn-primary btn-lg" type="button" onclick="calculate()">Calculate</button>
                    </div>
                    <div class="col-lg-8 text-center mb-auto">
                        <div class="mt-4 visible-xs mt-md-0"></div>
                        <div class="p-lg-3 mt-sm-5 mt-lg-0">
                            <h3>Total Returns</h3>
                            <div class="border border-primary rounded-3 overflow-hidden">
                                <div class="row rounded-top">
                                    <div class="col-4 bg-primary text-white p-2">Invested</div>
                                    <div class="col-8 bg-light p-2" id="totalInvested">£0.00</div>
                                </div>
                                <div class="row">
                                    <div class="col-4 bg-primary text-white p-2">Savings Account</div>
                                    <div class="col-8 bg-light p-2" id="savingsReturn">£0.00</div>
                                </div>
                                <div class="row">
                                    <div class="col-4 bg-primary text-white p-2">S&P 500 ETF</div>
                                    <div class="col-8 bg-light p-2" id="sp500Return">£0.00</div>
                                </div>
                                <div class="row">
                                    <div class="col-4 bg-primary text-white p-2">Opas Strategy</div>
                                    <div class="col-8 bg-light p-2" id="opasReturn">£0.00</div>
                                </div>
                            </div>

                        </div>
                        <div class="mt-4 visible-xs"></div>
                        <div class="p-lg-3 mt-sm-4 mt-lg-0">
                            <h3>Total Dividends</h3>
                            <div class="border border-primary rounded-3 overflow-hidden">
                                <div class="row">
                                    <div class="col-4 bg-primary text-white p-2">S&P 500 ETF</div>
                                    <div class="col-8 bg-light p-2" id="sp500Dividends">£0.00</div>
                                </div>
                                <div class="row">
                                    <div class="col-4 bg-primary text-white p-2">Opas Strategy</div>
                                    <div class="col-8 bg-light p-2" id="opasDividends">£0.00</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="text-start mt-5 text-black-50">
                        <p class="m-0">* Inflation calculated as 6.2% (2023)</p>
                        <p class="m-0">** SA Returns based on average 0.5% (2023)</p>
                        <p class="m-0">*** S&P500 based on all time average of 8% (2023)</p>
                        <p class="m-0">**** Opas Strategy based on average 21.3% from 1965 to 2009 (2023)</p>
                    </div>
                </div>
            </div>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script>
            function calculate(){const e=.062,t=.0272,n=.2108;let r=parseInt(document.getElementById("years").value),o=parseFloat(document.getElementById("initialDeposit").value),c=parseFloat(document.getElementById("furtherDeposit").value),u=parseInt(document.getElementById("numPortfolios").value),a=parseFloat(document.getElementById("dividendYield").value)/100,l=document.getElementById("reinvest"),i=document.getElementById("inflation"),d=o,m=o,s=o,y=o,g=0,p=0;for(let o=0;o<r;o++)i.checked?(d*=.938,m*=1.005-e,s*=1.018,y*=1+n-e):(m*=1.005,s*=1.08,y*=1+n),d+=c*u,m+=c*u,s+=c*u,y+=c*u,g+=s*t,p+=y*a,l.checked&&(s+=s*t,y+=y*a);document.querySelector("#totalInvested").innerHTML=currencyFormatter(d),document.querySelector("#savingsReturn").innerHTML=currencyFormatter(m),document.querySelector("#sp500Return").innerHTML=currencyFormatter(s),document.querySelector("#opasReturn").innerHTML=currencyFormatter(y),document.querySelector("#sp500Dividends").innerHTML=currencyFormatter(g),document.querySelector("#opasDividends").innerHTML=currencyFormatter(p)}function currencyFormatter(e){e=e.toString().replace(/\$|\,/g,""),isNaN(e)&&(e="0"),sign=e==(e=Math.abs(e)),e=Math.floor(100*e+.50000000001),pence=e%100,e=Math.floor(e/100).toString(),pence<10&&(pence="0"+pence);for(var t=0;t<Math.floor((e.length-(1+t))/3);t++)e=e.substring(0,e.length-(4*t+3))+","+e.substring(e.length-(4*t+3));return(sign?"":"-")+"£"+e+"."+pence}
        </script>
    </body>
</html>
